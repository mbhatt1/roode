Metadata-Version: 2.4
Name: roo-code
Version: 0.1.0
Summary: Python SDK for Roo Code - AI-Powered Development Tools
Author-email: Roo Code Team <support@roocode.com>
License: Apache-2.0
Project-URL: Homepage, https://github.com/RooCodeInc/Roo-Code
Project-URL: Documentation, https://docs.roocode.com
Project-URL: Repository, https://github.com/RooCodeInc/Roo-Code
Project-URL: Issues, https://github.com/RooCodeInc/Roo-Code/issues
Keywords: ai,code,assistant,development,llm
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: Apache Software License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Requires-Python: >=3.9
Description-Content-Type: text/markdown
Requires-Dist: anthropic>=0.34.0
Requires-Dist: openai>=1.0.0
Requires-Dist: pydantic>=2.0.0
Requires-Dist: httpx>=0.27.0
Requires-Dist: typing-extensions>=4.5.0
Requires-Dist: tree-sitter>=0.21.0
Requires-Dist: boto3>=1.28.0
Provides-Extra: dev
Requires-Dist: pytest>=7.4.0; extra == "dev"
Requires-Dist: pytest-asyncio>=0.21.0; extra == "dev"
Requires-Dist: pytest-cov>=4.1.0; extra == "dev"
Requires-Dist: black>=23.0.0; extra == "dev"
Requires-Dist: ruff>=0.1.0; extra == "dev"
Requires-Dist: mypy>=1.5.0; extra == "dev"
Provides-Extra: tools
Requires-Dist: playwright>=1.40.0; extra == "tools"
Provides-Extra: treesitter
Requires-Dist: tree-sitter-python>=0.21.0; extra == "treesitter"
Requires-Dist: tree-sitter-javascript>=0.21.0; extra == "treesitter"
Requires-Dist: tree-sitter-typescript>=0.21.0; extra == "treesitter"
Requires-Dist: tree-sitter-java>=0.21.0; extra == "treesitter"
Requires-Dist: tree-sitter-cpp>=0.22.0; extra == "treesitter"
Requires-Dist: tree-sitter-c>=0.21.0; extra == "treesitter"
Requires-Dist: tree-sitter-go>=0.21.0; extra == "treesitter"
Requires-Dist: tree-sitter-rust>=0.21.0; extra == "treesitter"
Requires-Dist: tree-sitter-ruby>=0.21.0; extra == "treesitter"
Requires-Dist: tree-sitter-php>=0.22.0; extra == "treesitter"
Provides-Extra: vector
Requires-Dist: chromadb>=0.4.0; extra == "vector"
Provides-Extra: all
Requires-Dist: roo-code[dev,tools,treesitter,vector]; extra == "all"

# Roode: Roo Code Python SDK

> Python SDK for AI-Powered Development Tools

[![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](LICENSE)
[![Python Version](https://img.shields.io/badge/python-3.9%2B-blue)](https://www.python.org/downloads/)
[![Development Status](https://img.shields.io/badge/status-alpha-orange)](https://github.com/RooCodeInc/Roo-Code)

Roode is a powerful Python framework for building AI agents that can interact with codebases, execute commands, browse the web, and integrate with external tools through the Model Context Protocol (MCP).

<img width="352" height="410" alt="image" src="https://github.com/user-attachments/assets/996b905f-9416-434e-a7f9-4daefe935c94" />


## ğŸš€ Key Features

### Multi-Mode AI Agents
- **5 Built-in Modes**: Code, Debug, Architect, Ask, and Orchestrator
- **Role-Based Behavior**: Each mode has specialized capabilities and tool access
- **Intelligent Delegation**: Orchestrator mode coordinates complex multi-step workflows
- **Custom Modes**: Define your own modes with YAML configuration

### Comprehensive Tool System
- **17+ Built-in Tools** organized into 7 categories
- **File Operations**: Read, write, edit with precision diffs
- **Code Intelligence**: Search, parse definitions, tree-sitter integration
- **Command Execution**: Run shell commands with real-time output
- **Browser Automation**: Playwright-powered web interaction
- **Workflow Management**: Follow-up questions, task completion, todo tracking

### MCP Integration
- **Extensible Architecture**: Connect to MCP servers for additional capabilities
- **Tool Discovery**: Automatically discover and use MCP-provided tools
- **Resource Access**: Query MCP resources for external data sources

### Multi-Provider Support
Support for 15+ AI providers including:
- Anthropic (Claude)
- OpenAI (GPT-4, GPT-3.5)
- Google (Gemini)
- And many more...

### Robust Error Handling
- **Circuit Breakers**: Automatic failure detection and recovery
- **Retry Logic**: Exponential backoff for transient failures
- **Error Metrics**: Track and analyze error patterns
- **Graceful Degradation**: Continue operation when services fail

## ğŸ“¦ Installation

### Basic Installation

```bash
pip install roo-code
```

### Installation with Optional Dependencies

```bash
# Install with browser automation support
pip install roo-code[tools]

# Install with tree-sitter language parsers
pip install roo-code[treesitter]

# Install with vector database support
pip install roo-code[vector]

# Install everything (including dev tools)
pip install roo-code[all]
```

### Requirements

- Python 3.9 or higher
- API key for your chosen AI provider

## âš¡ Quick Start

### Basic Usage

```python
import asyncio
from roo_code import RooClient, ProviderSettings

async def main():
    # Initialize client with your preferred provider
    client = RooClient(
        provider_settings=ProviderSettings(
            api_provider="anthropic",
            api_key="your-api-key-here",
            api_model_id="claude-sonnet-4-5"
        )
    )
    
    # Create a simple message
    response = await client.create_message(
        system_prompt="You are a helpful coding assistant.",
        messages=[
            {"role": "user", "content": "Write a Python function to calculate fibonacci numbers"}
        ]
    )
    
    # Stream the response
    async for chunk in response.stream():
        if chunk.type == "content_block_delta":
            print(chunk.delta.text, end="", flush=True)

if __name__ == "__main__":
    asyncio.run(main())
```

### Using Mode-Based Agents

```python
from roo_code import RooClient, ProviderSettings
from roo_code.modes import ModeAgent
from pathlib import Path

async def main():
    # Initialize client
    client = RooClient(
        provider_settings=ProviderSettings(
            api_provider="anthropic",
            api_key="your-api-key",
            api_model_id="claude-sonnet-4-5"
        )
    )
    
    # Create mode-aware agent
    agent = ModeAgent(
        client=client,
        mode_slug="code",  # Start in code mode
        project_root=Path.cwd()
    )
    
    # Run task with full tool access
    result = await agent.run("Create a REST API using FastAPI")
    print(result)
```

## ğŸ—ï¸ Architecture

Roode is built on a modular architecture with clear separation of concerns:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Application Layer                  â”‚
â”‚         (Your Code / CLI / API)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Agent Layer (agent.py)             â”‚
â”‚  â€¢ Conversation orchestration                â”‚
â”‚  â€¢ Tool execution coordination              â”‚
â”‚  â€¢ Mode management                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Tool Layer     â”‚  â”‚  Client Layer   â”‚
â”‚  (tools.py)     â”‚  â”‚  (client.py)    â”‚
â”‚  â€¢ Registry     â”‚  â”‚  â€¢ Multi-providerâ”‚
â”‚  â€¢ Execution    â”‚  â”‚  â€¢ Streaming    â”‚
â”‚  â€¢ Validation   â”‚  â”‚  â€¢ Token count  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Built-in Tools (builtin_tools/)     â”‚
â”‚  â€¢ File operations  â€¢ Search & discovery    â”‚
â”‚  â€¢ Command exec     â€¢ Browser automation    â”‚
â”‚  â€¢ MCP integration  â€¢ Workflow management   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Core Components

- **[`agent.py`](roo_code/agent.py)** - Core agent orchestration and conversation management
- **[`client.py`](roo_code/client.py)** - Multi-provider client abstraction
- **[`tools.py`](roo_code/tools.py)** - Tool execution framework and registry
- **[`modes/`](roo_code/modes/)** - Mode system implementation
- **[`builtin_tools/`](roo_code/builtin_tools/)** - Built-in tool implementations
- **[`mcp/`](roo_code/mcp/)** - Model Context Protocol integration

## ğŸ­ Modes

Modes define different operational contexts that change how the AI agent behaves and which tools it can access.

### Built-in Modes

| Mode | Slug | When to Use | Tool Access |
|------|------|-------------|-------------|
| ğŸ’» **Code** | `code` | Writing, modifying, or refactoring code | Full access (all tool groups) |
| ğŸª² **Debug** | `debug` | Troubleshooting issues, investigating errors | Read, edit, browser, command, MCP |
| ğŸ—ï¸ **Architect** | `architect` | Planning and designing before implementation | Read, browser, MCP, edit (markdown only) |
| â“ **Ask** | `ask` | Getting explanations, documentation, answers | Read, browser, MCP (read-only) |
| ğŸªƒ **Orchestrator** | `orchestrator` | Complex multi-step projects requiring coordination | Delegation only (no direct tools) |

### Using Modes

```python
# Create agent in specific mode
agent = ModeAgent(client=client, mode_slug="architect")
result = await agent.run("Design a microservices architecture")

# Switch modes programmatically
agent.switch_mode("code", reason="Ready to implement the design")

# Orchestrator delegates to specialized modes
orchestrator = ModeAgent(client=client, mode_slug="orchestrator")
await orchestrator.run(
    "Build a web scraper: plan architecture, implement code, then debug"
)
```

### Custom Modes

Create custom modes with YAML configuration:

```yaml
# ~/.roo-code/modes.yaml
customModes:
  - slug: reviewer
    name: ğŸ” Code Reviewer
    roleDefinition: |
      You are an expert code reviewer focused on quality and best practices.
    groups:
      - read
      - browser
    whenToUse: When you need to review code for quality
```

See [`docs/modes.md`](docs/modes.md) for detailed mode documentation.

## ğŸ› ï¸ Tools

Tools are organized into 7 functional groups:

### Read Tools
File reading and code discovery
- **read_file** - Read file contents with line numbers
- **search_files** - Regex search across files with context
- **list_files** - List directory contents
- **list_code_definition_names** - Extract code structure definitions
- **fetch_instructions** - Retrieve task-specific instructions

### Edit Tools
File creation and modification
- **write_to_file** - Create new files or complete rewrites
- **apply_diff** - Precise surgical edits with search/replace
- **insert_content** - Add lines at specific positions

### Command Tools
Shell command execution
- **execute_command** - Run CLI commands with streaming output

### Browser Tools
Web automation and interaction
- **browser_action** - Puppeteer-powered browser control

### MCP Tools
Model Context Protocol integration
- **use_mcp_tool** - Execute tools from MCP servers
- **access_mcp_resource** - Query MCP resources

### Workflow Tools
Task management and user interaction
- **ask_followup_question** - Request clarification from user
- **attempt_completion** - Signal task completion
- **update_todo_list** - Manage task checklists

### Advanced Tools
Specialized capabilities
- **codebase_search** - Semantic code search with embeddings
- **run_slash_command** - Execute built-in slash commands
- **generate_image** - AI image generation

## ğŸ”Œ MCP Integration

The Model Context Protocol (MCP) enables communication with external servers that provide additional tools and resources.

### Connecting to MCP Servers

```python
from roo_code.mcp import MCPServerManager

# Initialize MCP manager
mcp_manager = MCPServerManager()

# Connect to a server
await mcp_manager.connect_server(
    name="weather-server",
    command="npx",
    args=["-y", "@modelcontextprotocol/server-weather"]
)

# List available tools
tools = await mcp_manager.list_tools("weather-server")
print(f"Available tools: {tools}")

# Use an MCP tool
result = await mcp_manager.call_tool(
    server_name="weather-server",
    tool_name="get_forecast",
    arguments={"city": "San Francisco", "days": 5}
)
```

### Available MCP Servers

The ecosystem includes servers for:
- File system operations
- Database queries
- API integrations (GitHub, Slack, etc.)
- Search engines
- Development tools
- And more...

See the [MCP server documentation](https://modelcontextprotocol.io/servers) for available servers.

## âš™ï¸ Configuration

### Provider Configuration

Configure your AI provider in code or via environment variables:

```python
from roo_code import ProviderSettings

# Anthropic (Claude)
settings = ProviderSettings(
    api_provider="anthropic",
    api_key="sk-ant-...",
    api_model_id="claude-sonnet-4-5"
)

# OpenAI
settings = ProviderSettings(
    api_provider="openai",
    api_key="sk-...",
    api_model_id="gpt-4"
)

# Google Gemini
settings = ProviderSettings(
    api_provider="gemini",
    api_key="...",
    api_model_id="gemini-1.5-pro"
)
```

### Environment Variables

```bash
export ANTHROPIC_API_KEY="your-key-here"
export OPENAI_API_KEY="your-key-here"
export GOOGLE_API_KEY="your-key-here"
```

### Global Configuration

Create `~/.roo-code/config.yaml`:

```yaml
# Default provider settings
provider:
  api_provider: anthropic
  api_model_id: claude-sonnet-4-5

# Tool configuration
tools:
  browser:
    headless: true
    timeout: 30000
  
# MCP servers
mcp_servers:
  - name: filesystem
    command: npx
    args: ["-y", "@modelcontextprotocol/server-filesystem"]
```

## ğŸ§ª Development

### Setup Development Environment

```bash
# Clone repository
git clone https://github.com/RooCodeInc/Roo-Code.git
cd roo-code-python

# Install with development dependencies
pip install -e ".[dev]"
```

### Running Tests

```bash
# Run all tests
pytest

# Run with coverage
pytest --cov=roo_code --cov-report=html

# Run specific test file
pytest tests/test_agent.py
```

### Code Quality

```bash
# Format code with black
black roo_code tests

# Lint with ruff
ruff check roo_code tests

# Type check with mypy
mypy roo_code
```

### Project Structure

```
roo-code-python/
â”œâ”€â”€ roo_code/              # Main package
â”‚   â”œâ”€â”€ agent.py          # Agent orchestration
â”‚   â”œâ”€â”€ client.py         # Multi-provider client
â”‚   â”œâ”€â”€ tools.py          # Tool execution framework
â”‚   â”œâ”€â”€ types.py          # Type definitions
â”‚   â”œâ”€â”€ builtin_tools/    # Built-in tool implementations
â”‚   â”œâ”€â”€ mcp/              # MCP integration
â”‚   â”œâ”€â”€ modes/            # Mode system
â”‚   â””â”€â”€ providers/        # Provider adapters
â”œâ”€â”€ tests/                # Test suite
â”œâ”€â”€ examples/             # Usage examples
â”œâ”€â”€ docs/                 # Documentation
â””â”€â”€ pyproject.toml        # Project configuration
```

## ğŸ“š Examples

The [`examples/`](examples/) directory contains comprehensive examples:

- **[`basic_usage.py`](examples/basic_usage.py)** - Basic client usage, streaming, multi-turn conversations
- **[`mode_usage.py`](examples/mode_usage.py)** - Mode-based agents and mode switching
- **[`agentic_example.py`](examples/agentic_example.py)** - Advanced agent with tool usage
- **[`recreate_mcp_server.py`](examples/recreate_mcp_server.py)** - MCP server integration
- **[`recreate_python_interpreter.py`](examples/recreate_python_interpreter.py)** - Building an interpreter with tools

Run any example:

```bash
python examples/basic_usage.py
```

## ğŸ“– Documentation

Comprehensive documentation is available in the [`docs/`](docs/) directory:

- **[`modes.md`](docs/modes.md)** - Complete mode system documentation
- **[`SYSTEM_FLOW.md`](docs/SYSTEM_FLOW.md)** - System architecture and data flow
- **[`builtin_tools/README.md`](roo_code/builtin_tools/README.md)** - Tool system documentation

## ğŸ¤ Contributing

We welcome contributions! Please see our contributing guidelines:

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Make your changes with tests
4. Run tests and quality checks
5. Commit your changes (`git commit -m 'Add amazing feature'`)
6. Push to the branch (`git push origin feature/amazing-feature`)
7. Open a Pull Request

## ğŸ“ License

This project is licensed under the Apache License 2.0 - see the LICENSE file for details.

## ğŸ”— Links

- **Homepage**: [https://github.com/RooCodeInc/Roo-Code](https://github.com/RooCodeInc/Roo-Code)
- **Documentation**: [https://docs.roocode.com](https://docs.roocode.com)
- **Issues**: [https://github.com/RooCodeInc/Roo-Code/issues](https://github.com/RooCodeInc/Roo-Code/issues)
- **MCP Documentation**: [https://modelcontextprotocol.io](https://modelcontextprotocol.io)

## ğŸ™ Acknowledgments

Built with:
- [Anthropic Claude](https://www.anthropic.com/) - AI capabilities
- [OpenAI](https://openai.com/) - GPT models
- [Model Context Protocol](https://modelcontextprotocol.io/) - Extensibility framework
- [Playwright](https://playwright.dev/) - Browser automation
- [Tree-sitter](https://tree-sitter.github.io/) - Code parsing

---

**Note**: This SDK is in alpha development. APIs may change. Please report issues and feedback via GitHub Issues.
